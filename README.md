# dalle-image-generator
This Python script provides a method to access OpenAI's DALL-E model to generate images based on text descriptions.
## How to Use the generate_image() Method:
Call the generate_image method using the following parameters:
```python
#===============================================================================================
# Generate an image using DALL-E
# Params:
#  prompt        (str): The prompt, which is a description of what image you want to create.
#  num_image     (int): Number of images to be generated in the completion. Default is 1.
#  size          (str): The size of the image to be generated in the completion. Default is 256x256.
#  output_format (str): The medium through which the generated image will be returned. Default is URL.
#===============================================================================================
def generate_image(prompt, num_image=1, size="256x256", output_format="URL"):
   
    # Tries to send the prompt to openai and get a completion
    # If it gets a completion, execute the code in "try." If no completion is recieved, execute the code in "except."
    try:
       
        # This list will store all the images generated by the openai api
        images = []

        # Calls the openai Image class's create function to send the prompt to DALL-E and generate an image based on our input requirements
        response = openai.Image.create(prompt=prompt, n=num_image, size=size, response_format=output_format)

        # If the output format is set to URL, get all the image URLS and store them in images.
        # Otherwise, if the output format is b64json, get all the image's json data and store them in images.
        if output_format == "url":
            # response["data"] passes in "data" as a key into the response object, and returns a list of images generated
            for image in response["data"]:
                images.append(image.url)
        elif output_format == "b64_json":
            for image in response["data"]:  
                images.append(image.b64_json)
        
        # Return a dictionary which contains the timestap and url/json of each image generated
        return {"created": datetime.datetime.fromtimestamp(response["created"]), "images": images}
    
    except InvalidRequestError as e:
        # Print the error
        print(e)
#===============================================================================================
```

Once you have done so, you can pass in a query and obtain a URL that contains the output image file like so:
```python
#===============================================================================================
# Takes in a prompt, and generates a completion using DALL-E by using the helper function above
#===============================================================================================
# Call the generate_image() method to submit a prompt and get a completion
completion = generate_image("AI clipart no background", num_image=2, size="512x512")

# Get the list of image URLs generated
images = completion["images"]

# Prints each URL to the console, and also opens them in the web browser.
for i in range(0, len(images)):
    print("URL ", i, ": ", images[i])
    webbrowser.open(images[i])
#===============================================================================================
```

Here are the two generated images from the example above:
![image](https://user-images.githubusercontent.com/58181651/235795941-3fdffde6-3237-4471-b906-f714b779d6b2.png)
![image](https://user-images.githubusercontent.com/58181651/235796245-4eae8a9c-862f-461a-87f4-26964b2021ed.png)
